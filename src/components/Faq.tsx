import { useEffect, useRef } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from "@/components/ui/accordion";

gsap.registerPlugin(ScrollTrigger);

const faqData = [
  {
    question: "מה זה בכלל אתר תדמית ומה הוא כולל?",
    answer: "אתר תדמית הוא הכרטיס הביקור הדיגיטלי של העסק שלך. המטרה שלו היא להציג מי אתה, מה השירותים שאתה נותן ולמה כדאי לבחור דווקא בך.\nאתר תדמית סטנדרטי כולל בדרך כלל: דף בית מרשים, עמוד 'אודות' (מי אנחנו), פירוט השירותים, גלריית פרויקטים או המלצות, ודרכי יצירת קשר (טופס, וואטסאפ, מפה). הוא לא כולל חנות וירטואלית (סליקת אשראי ומכירת מוצרים).",
  },
  {
    question: "למה העסק שלי צריך אתר תדמית?",
    answer: "כי הלקוחות שלך מחפשים אותך שם. גם אם רוב הלקוחות שלך מגיעים מפה-לאוזן, הדבר הראשון שהם יעשו זה לחפש את השם שלך בגוגל כדי לראות שאתה עסק רציני וקיים.\nאתר אינטרנט זמין 24/7, הוא בונה אמינות (סמכות), מאפשר ללקוחות להבין מהר אם אתה מתאים להם, ומייצר פניות גם כשהעסק סגור פיזית. בעידן של היום, עסק בלי אתר נתפס לפעמים כעסק זמני או פחות מקצועי.",
  },
  {
    question: "האם ימצאו את האתר שלי בגוגל בלי תשלום נוסף?",
    answer: "התשובה מתחלקת לשניים. האתר שאנחנו בונים מותאם טכנית לגוגל (SEO בסיסי) – הוא מהיר, נגיש ובעל מבנה נכון, כך שגוגל יוכל לסרוק אותו ולאנדקס אותו (להוסיף אותו למאגר).\nעם זאת, כדי להופיע בתוצאות הראשונות בביטויים תחרותיים (כמו \"עורך דין בתל אביב\"), נדרשת עבודת קידום אורגני שוטפת או פרסום ממומן, שהם שירותים נפרדים. האתר הוא התשתית המעולה שמאפשרת לקידום הזה לקרות.",
  },
  {
    question: "מה ההבדל בין אתר שבנוי בקוד לבין אתר בוורדפרס (או מערכות מוכנות)?",
    answer: "ההבדל העיקרי הוא בביצועים ובגמישות.\n\n• אתר קוד (Custom Code): נבנה מאפס במיוחד לצרכים שלך. היתרונות הגדולים הם מהירות טעינה גבוהה מאוד, אבטחה חזקה יותר (קשה יותר לפרוץ), ועיצוב ייחודי ללא מגבלות של תבניות.\n\n• וורדפרס/אלמנטור: מערכת ניהול תוכן פופולרית. היתרון הוא שקל מאוד ללקוח לנהל את התוכן בעצמו, אך לעיתים האתרים כבדים יותר ודורשים תחזוקה ועדכוני תוספים שוטפים כדי למנוע פרצות אבטחה.",
  },
  {
    question: "האם האתר מותאם לנייד (רספונסיבי)?",
    answer: "חד משמעית כן. היום רוב הגלישה מתבצעת דרך הטלפון הנייד. האתר נבנה בגישת Mobile-First ומותאם בצורה מושלמת לכל סוגי המסכים – מחשבים נייחים, לפטופים, טאבלטים וסמארטפונים.",
  },
  {
    question: "מה אני צריך להכין לפני שמתחילים לעבוד?",
    answer: "תמונות שרוצים לשלב באתר, לוגו של העסק (אם יש לך, אם לא זה כלול במחיר), וטקסטים לכל העמודים (אם תרצה לכתוב את התוכן בעצמך).",
  },
  {
    question: "כמה זמן לוקח לבנות את האתר?",
    answer: "זמן הבנייה תלוי במורכבות העיצוב ובשיתוף הפעולה בינינו (אישור סקיצות והעברת חומרים). בדרך כלל, מרגע שיש את כל החומרים, אתר תדמית יהיה מוכן תוך 7-14 ימי עסקים.",
  },
  {
    question: "מה קורה אחרי שהאתר עולה לאוויר? יש עלויות נוספות?",
    answer: "כדי שהאתר יישאר באוויר יש צורך בתשלום חודשי קבוע של 249 ש\"ח עבור דומיין (כתובת האתר) ואחסון (השרת עליו האתר יושב).",
  },
  {
    question: "אם ארצה לשנות משהו באתר בעתיד, האם זה אפשרי?",
    answer: "בוודאי. האתר הוא דינמי וניתן לשינוי. שינויים קטנים לאחר העלייה לאוויר ניתנים לביצוע. עבור שינויים מורכבים יותר או הוספת עמודים בעתיד, נוכל לעבוד לפי שעות עבודה או הצעת מחיר מסודרת, בהתאם לצורך שלך.",
  },
  {
    question: "למה יש פערים גדולים במחירים בשוק? ראיתי הצעות זולות משמעותית.",
    answer: "הפער במחיר נובע בדרך כלל משיטת העבודה ומאיכות התוצר הסופי. הצעות זולות מאוד לרוב מתבססות על \"תבניות מוכנות\" (Templates) שמועתקות מלקוח ללקוח, ללא אפיון מעמיק וללא אופטימיזציה למהירות או לגוגל. המחיר שלי משקף עבודה מותאמת אישית (Custom Made): כתיבת קוד נקי, התאמה מדויקת לצרכי העסק שלך, הבטחת מהירות טעינה מקסימלית וליווי אישי. בטווח הארוך, אתר זול עלול לעלות ביוקר (בגלל תקלות, איטיות או חוסר בלקוחות), בעוד שאתר איכותי הוא השקעה שמחזירה את עצמה.",
  },
  {
    question: "יש לי עמוד חזק באינסטגרם/פייסבוק/טיקטוק, למה אני צריך גם אתר?",
    answer: "רשתות חברתיות הן כלי שיווקי מדהים, אבל הן כמו \"דירה בשכירות\". היום יש לך חשיפה, ומחר האלגוריתם משתנה או החשבון נחסם והעסק נפגע. האתר הוא \"הנכס הפרטי\" שלך (הטאבו הדיגיטלי). אף אחד לא יכול לסגור אותו או להוריד לך את החשיפה. בנוסף, ברשתות החברתיות הלקוח מופצץ בהסחות דעת ומתחרים שנמצאים במרחק גלילה אחת. באתר שלך, הוא נמצא ב\"מגרש הביתי\" שלך – 100% מהקשב שלו מופנה רק אליך, ללא הפרעות, מה שמעלה דרמטית את הסיכוי למכירה.\n\nבנוסף, האתר והרשתות עובדים מצוין ביחד - האתר משמש כתיק עבודות מקצועי ומסודר אליו תוכל להפנות מתעניינים מהרשתות, וכמובן שנשלב בו קישורים בולטים לאינסטגרם או לפייסבוק שלך.",
  },
  {
    question: "היום עם ה-AI, למה שלא אבנה את האתר בעצמי?",
    answer: "זו שאלה לגיטימית וזו בהחלט אפשרות קיימת. אם יש לך את הזמן, הגישה הטכנית והסבלנות להתעסק עם באגים והתאמות – אתה יכול לנסות לבנות לבד, וזה בסדר גמור.\n\nאבל הניסיון מראה ש-AI הוא כלי עזר מצוין, לא תחליף למומחיות. הוא מספק את \"חומרי הגלם\", אבל אנחנו המתכנתים בונים מהם את הבניין היציב. הלקוחות שלנו בוחרים בנו כי הם רוצים לחסוך לעצמם את כאב הראש הטכני ורוצים אתר מדויק, מהיר ומקצועי שעובד חלק מהרגע הראשון – בזמן שהם מתרכזים בלקדם את העסק שלהם.",
  },
];

const Faq = () => {
  const sectionRef = useRef<HTMLElement>(null);

  useEffect(() => {
    const section = sectionRef.current;
    if (!section) return;

    gsap.fromTo(
      section,
      { opacity: 0, y: 50 },
      {
        opacity: 1,
        y: 0,
        duration: 1,
        scrollTrigger: {
          trigger: section,
          start: "top 85%",
          end: "top 60%",
          scrub: 1,
        },
      }
    );
  }, []);

  return (
    <section ref={sectionRef} id="faq" className="py-20 px-4 md:px-8 lg:px-16">
      <div className="max-w-4xl mx-auto">
        <h2 className="text-4xl md:text-5xl font-bold mb-4 text-center text-glow-blue">
          שאלות ותשובות
        </h2>
        <p className="text-muted-foreground text-center mb-12 max-w-2xl mx-auto">
          כל מה שרציתם לדעת על בניית אתר תדמית ולא העזתם לשאול.
        </p>
        <Accordion type="single" collapsible className="w-full">
          {faqData.map((item, index) => (
            <AccordionItem
              key={index}
              value={`item-${index}`}
              className="glass-card mb-4 rounded-lg border-primary/20"
            >
              <AccordionTrigger className="p-6 text-right font-semibold hover:no-underline">
                {item.question}
              </AccordionTrigger>
              <AccordionContent className="p-6 pt-0 text-muted-foreground">
                <div className="whitespace-pre-line">{item.answer}</div>
              </AccordionContent>
            </AccordionItem>
          ))}
        </Accordion>
      </div>
    </section>
  );
};

export default Faq;